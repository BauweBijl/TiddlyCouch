{"text": "/***\n|''Name''|CouchdbConfig|\n|''Description''|configuration settings for Couchdb - based on TiddlyWebConfig|\n|''Author''|Saq & FND|\n|''Version''|0.1|\n|''Status''|experimental|\n|''License''|[[BSD|http://www.opensource.org/licenses/bsd-license.php]]|\n|''Requires''|CouchdbAdaptor ServerSideSavingPlugin|\n|''Keywords''|serverSide couchdb|\n!Code\n***/\n\n//{{{\n(function($) {\n\nif(!config.extensions.ServerSideSavingPlugin) {\n\tthrow \"Missing dependency: ServerSideSavingPlugin\";\n}\nif(!config.adaptors.couchdb) {\n\tthrow \"Missing dependency: CouchdbAdaptor\";\n}\n\nif(window.location.protocol != \"file:\") {\n\tconfig.options.chkAutoSave = true;\n}\n\nvar plugin = config.extensions.couchdb = {\n\thost: tiddler.fields[\"server.host\"].replace(/\\/$/, \"\"),\n};\n\nconfig.defaultCustomFields = {\n\t\"server.type\": tiddler.getServerType(),\n\t\"server.host\": plugin.host,\n\t\"server.workspace\": tiddler.fields[\"server.workspace\"]\n};\n\n})(jQuery);\n//}}}\n", "tags": ["systemConfig"], "title": "CouchdbConfig"}
